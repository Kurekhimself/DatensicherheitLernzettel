\documentclass[a4paper,12pt]{article}

% Sprach- und Zeichensatzpakete
\usepackage[utf8]{inputenc}     % Eingabecodierung UTF-8
\usepackage[ngerman]{babel}     % Deutsche Sprache
\usepackage{amsmath, amssymb}   % Mathematische Symbole

% Layout und Formatierung
\usepackage{enumitem}           % Bessere Kontrolle über Aufzählungen
\usepackage{geometry}           % Seitenränder definieren
\geometry{margin=2.5cm}

% Grafiken und Bilder
\usepackage{graphicx}           % Einbinden von Bildern
\usepackage{float}              % Platzierung von Gleitobjekten
\usepackage{booktabs}

% Hyperlinks und Farben
\usepackage{hyperref}           % Hyperlinks im Dokument
\usepackage{xcolor}             % Farben für Text und Links
\usepackage{tcolorbox}

% Kopf- und Fußzeile
\usepackage{fancyhdr}
\usepackage[sfdefault,lf]{carlito}

\pagestyle{fancy}
\fancyhf{}
\rhead{Datensicherheit Lernzettel}
\lhead{Stand: \today}
\rfoot{Seite \thepage}

% Titel- und Abschnittsformatierung
\usepackage{titlesec}
\titleformat{\section}{\large\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}{\normalsize\bfseries}{\thesubsection}{1em}{}

% Titelinformationen
\title{\textbf{Lernzettel – Datensicherheit}}
\author{}
\date{}

\begin{document}

\maketitle
\tableofcontents
\newpage

% === Abschnitt: Begriffsdefinitionen ===
\section{Begriffsdefinitionen}
\begin{itemize}
    \item \textbf{Vertraulichkeit} – Schutz vor unzulässiger Kenntnisnahme oder unbefugtem Zugriff
    \item \textbf{Integrität} – Schutz vor unzulässigen Veränderungen
    \item \textbf{Verfügbarkeit} – Nutzbarkeit von Informationen und Systemen
    \item \textbf{Authentizität} – Nachprüfbare Echtheit eines Subjekts/Objekts
    \item \textbf{Verbindlichkeit} – Handlungen können eindeutig zugeordnet werden
\end{itemize}

\vspace{0.5em}
\noindent\textbf{Übung:} Siehe Folie 10 und 18.

\vspace{1em}
\noindent\textbf{Ziel der Security:}  
Verhinderung von Bedrohungen durch Menschen oder Umwelt während des Betriebs.

\noindent\textbf{Ziel der Safety:}  
Verhinderung von Gefahren, die von technischen Systemen ausgehen.  
\textit{(Übung auf Folie 16)}

\vspace{1em}
\noindent\textbf{Kettenregel:}  
Eine Kette ist nur so stark wie ihr schwächstes Glied.  
\textit{Beispiel: In einer Passwortdatei reicht ein schwaches Passwort für einen Angriff.}

\vspace{1em}
\noindent\textbf{Typen von Angreifern:}
\begin{itemize}
    \item Innentäter
    \item Hacker
    \item \glqq Script-Kiddies\grqq
    \item Wirtschaftsspione
    \item Geheimdienste
\end{itemize}

\vspace{0.5em}
\noindent\textbf{Typen von Angriffen:}
\begin{itemize}
    \item Sniffing
    \item Spoofing
    \item Man-in-the-Middle
    \item Denial of Service (DDoS)
\end{itemize}

% === Abschnitt: Kryptologie ===
\section{Kryptologie}

\subsection{Kodierung}
\noindent Kodierung: eindeutige Zuordnung:
\[
f(x) = y
\]
Chiffrierung: mehrdeutige Zuordnung:
\[
f(x, k) = y
\]

\begin{itemize}
    \item \(x\): Klartext
    \item \(k\): Schlüssel
    \item \(y\): Chiffretext
\end{itemize}

\subsection{Verschlüsselung / Entschlüsselung}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/verschluesselung.png}
    \caption{Verschlüsselung}
    \label{fig:encript}
\end{figure}

\subsection{Chiffren}

\subsubsection{Klassische Chiffren}
\begin{itemize}
    \item \textbf{Substitutionschiffren}
    \begin{itemize}
        \item Cäsar-Verschlüsselung
        \item Codebuch
        \item Vigenère-Verschlüsselung
        \item Playfair-Verschlüsselung
        \item \dots
    \end{itemize}
    \item \textbf{Transpositionschiffren}
    \begin{itemize}
        \item Skytale
        \item Doppelwürfel (doppelte Spaltentransposition)
        \item \dots
    \end{itemize}
\end{itemize}

\vspace{1em}
\noindent\textbf{Cäsar-Verschlüsselung:}
\begin{itemize}
    \item Verschlüsselung um 3 Stellen (z.B. A - D, B - E)
\end{itemize}

\vspace{1em}
\noindent\textbf{Playfair-Chiffre:}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/playfair.png}
    \caption{Playfair-Chiffre}
    \label{fig:playfair}
\end{figure}

\vspace{1em}
\noindent\textbf{Vigenère-Chiffre:}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/Vigenère-Chiffre (Polyalphabetisch).png}
    \caption{Vigenère-Chiffre (Teil 1)}
    \label{fig:vigenere1}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/Vigenère-Chiffre (Polyalphabetisch)2.png}
    \caption{Vigenère-Chiffre (Teil 2)}
    \label{fig:vigenere2}
\end{figure}

\vspace{1em}
\noindent\textbf{Transpositionschiffren:}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/Transpossitionssschiffrenn.png}
    \caption{Transpositionschiffren}
    \label{fig:transpo}
\end{figure}

\subsubsection{Moderne Chiffren – XOR-Eigenschaften}
\begin{itemize}
    \item \textbf{Kommutativität:} \quad $A \oplus B = B \oplus A$
    \item \textbf{Assoziativität:} \quad $A \oplus (B \oplus C) = (A \oplus B) \oplus C$
    \item \textbf{Neutrales Element:} \quad $A \oplus 0 = A$
    \item \textbf{Selbstinvers:} \quad $A \oplus A = 0$
\end{itemize}

\vspace{1em}

\begin{tcolorbox}[title=Doppelte XOR-Verschlüsselung mit demselben Schlüssel, colback=blue!5!white, colframe=blue!75!black]
\noindent\textbf{Doppelte XOR-Verschlüsselung mit demselben Schlüssel \(K\):}
\begin{align*}
A \oplus K \oplus K 
&= (A \oplus K) \oplus K \quad &&\text{(Assoziativität)} \\
&= A \oplus (K \oplus K) \quad &&\text{(Assoziativität)} \\
&= A \oplus 0 \quad &&\text{(Selbstinvers: $K \oplus K = 0$)} \\
&= A \quad &&\text{(Neutrales Element)}
\end{align*}

\vspace{1em}
\noindent\textbf{Beispiel: HALLO}
\begin{verbatim}
H = 01001000
A = 01000001
L = 01001100
L = 01001100
O = 01001111
\end{verbatim}

\textbf{Schlüssel:}
\begin{verbatim}
11111011
00110010
11111011
10100001
11111011
\end{verbatim}

\textbf{XOR-Verknüpfung:}
\begin{verbatim}
Klartext : 01001000 01000001 01001100 01001100 01001111
Schlüssel :11111011 00110010 11111011 10100001 11111011
-------------------------------------------------------
Chiffre  : 10110011 01110011 10110111 11101101 10110100
\end{verbatim}

\textbf{Ergebnis:}  
Wendet man erneut denselben Schlüssel an, erhält man wieder den Klartext.
\end{tcolorbox}
\vspace{1em}
\noindent\textbf{One-Time Pad:}
\begin{itemize}
    \item Schlüssel muss \textbf{zufällig} sein
    \item Schlüssel ist \textbf{nur dem Sender und Empfänger} bekannt
    \item Schlüssel ist \textbf{mindestens so lang} wie die Nachricht
    \item Schlüssel darf \textbf{nicht wiederverwendet} werden
\end{itemize}

\noindent\textbf{Stromchiffren:}

\begin{itemize}
    \item Bei einer \textbf{Stromverschlüsselung} wird auf Sender- und Empfängerseite ein identischer Schlüsselstrom erzeugt, der mithilfe der \textbf{XOR-Verknüpfung} auf den Klartext bzw. Chiffretext angewendet wird.
    
    \item Es wird ein sogenannter \textbf{Initialisierungsvektor (IV)} verwendet, um fortlaufend unterschiedliche Schlüsselströme zu erzeugen.
    \begin{itemize}
        \item Der IV wird im Klartext übertragen oder im Vorfeld ausgehandelt.
    \end{itemize}
    
    \item \textbf{Hinweis:} Die Integrität der Daten ist nicht geschützt, sofern dies nicht explizit durch das Kryptosystem vorgesehen ist.
    
    \item Bekannte Stromverschlüsselungsverfahren:
    \begin{itemize}
        \item \textbf{RC4} – heute als \textcolor{red}{unsicher} eingestuft
        \item \textbf{A5/1} – verwendet in GSM, ebenfalls \textcolor{red}{unsicher}
        \item \textbf{Salsa20}
        \item \textbf{ChaCha20}
    \end{itemize}
\end{itemize}
\vspace{1em}
\noindent\textbf{Blockchiffren:}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/blockchiffren.png}
    \caption{Blockchiffren}
    \label{fig:blockchiffren}
\end{figure}

\vspace{1em}
\noindent\textbf{AES vs. DES:}
\begin{table}[H]
    \centering
    \resizebox{\textwidth}{!}{
        \begin{tabular}{|l|l|l|}
            \hline
            \textbf{Kriterium} & \textbf{DES} & \textbf{AES} \\
            \hline
            Schlüssellänge & 64 Bit wobei 8 nicht genutzt & 128, 192 oder 256 Bit \\
            \hline
            Blockgröße & 64 Bit & 128 Bit \\
            \hline
            Struktur & Substitutionenund Permutationenin einer Feistel-Konstruktion & Substitutions-Permutations-Netzwerk \\
            \hline
            Runden & 16 & 10 (128 Bit), 12 (192 Bit), 14 (256 Bit) \\
            \hline
            Sicherheit & Als unsicher eingestuft & Derzeit als sicher eingestuft \\
            \hline
            Standardisierung & Veraltet (NIST 1977) & Aktueller Standard (NIST 2001) \\
            \hline
        \end{tabular}
    }
    \caption{Vergleich zwischen DES und AES}
    \label{tab:aes_vs_des}
\end{table}

\vspace{1em}
\noindent\textbf{Betribsmodus:}
\vspace{1em}

\noindent\textbf{ECB - Electronic Code Block}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/ecb.png}
    \caption{ECB}
    \label{fig:ecb}
\end{figure}

\[ P = P_{1}P_{2}P_{3}P_{n}\]
\begin{itemize}
    \item Verschlüsselung: \[C_{i}=E_{k}(P_{i})\]
    \item Entschlüsselung: \[P_{i}=D_{k}(C_{i})\]
\end{itemize}
Gleiche Klartextblöcke ergeben gleiche Chiffretextblöcke.

\vspace{1em}
\noindent\textbf{CBC - Cipher Block Chaining}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/cbc.png}
    \caption{CBC}
    \label{fig:cbc}
\end{figure}
\[ P = P_{1}P_{2}P_{3}P_{n}\]
\[C_{0} = IV (Initialisierungsvektor)\]
\begin{itemize}
    \item Verschlüsselung: \[C_{i}=E_{K}(C_{i-1}\oplus P_{i})\]
    \item Entschlüsselung: \[P_{i} = D_{K}(C_{i}) \oplus C_{i-1}\]
\end{itemize}
\textit{Übungen auf Folie 102}

\vspace{1em}
\noindent\textbf{OFB - Output Feedback Modus}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/ofb.png}
    \caption{OFB}
    \label{fig:ofb}
\end{figure}
\textit{nicht umbedingt Klausurrelevant}

\vspace{1em}
\noindent\textbf{CTR - Counter Modus}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/ctr.png}
    \caption{CTR}
    \label{fig:ctr}
\end{figure}
\textit{nicht umbedingt Klausurrelevant}
\subsection{Asymmetrische Verfahren}
\subsubsection{RSA}
\begin{itemize}
    \item Modulares Rechnen
    \item Multiplikative Inverse
    \item Modulares Potenzieren
    \item Satz von Euler
    \item RSA Kryptosystem
\end{itemize}

\begin{tcolorbox}[title=Modulares Rechen, colback=blue!5!white, colframe=blue!75!black]
\noindent\textbf{Modulares Rechen}\\
\textit{Modulo} (\%) ist definiert als die ganzzahlige Division mit Rest: 
\begin{table}[H]
    \centering
    \begin{tabular}{l|l}
        $12 \bmod 5 = 2$ & $(\text{da } 12 - (2 \cdot 5) = 2)$ \\
        $23 \bmod 4 = 3$ & $(\text{da } 23 - (5 * 4) = 3)$ \\
        $3 * 8 \bmod 7 = 3$ & $(\text{da } 24 - (3 * 7) = 3)$ \\
        $9 * 9 \bmod 2 = 1$ & $(\text{da } 81 - (40 * 2) = 1)$ \\
    \end{tabular}
\end{table}

\begin{align*}
    \text{I.} \quad &(a + b) \bmod n = ((a \bmod n) + (b \bmod n)) \bmod n \\
    \text{II.} \quad &(a \cdot b) \bmod n = ((a \bmod n) \cdot (b \bmod n)) \bmod n
    \end{align*}

    \begin{align*}
    40 + 51 \bmod 2 &= ((40 \bmod 2) + (51 \bmod 2)) \bmod 2 \\
    91 \bmod 2 &= (0 + 1) \bmod 2 = 1
    \end{align*}
    
    \begin{align*}
    999 \cdot 121 \bmod 3 &= ((999 \bmod 3) \cdot (121 \bmod 3)) \bmod 3 \\
    &= (0 \cdot 1) \bmod 3 = 0
    \end{align*}
\vspace*{1em}
\textit{Inverse:}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/inverse.png}
    \caption{Inverse - mit Multiplikationstabelle}
    \label{fig:inverse}
\end{figure}
Übungen auf Folie 117
\end{tcolorbox}
\vspace*{1em}
\begin{tcolorbox}[title=Potenzieren, colback=green!5!white, colframe=green!75!black]
\textit{Potenzieren:}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/potenzieren.png}
    \caption{RSA - Modulares Potenzieren}
    \label{fig:inverse}
\end{figure}
\end{tcolorbox}
\begin{tcolorbox}[title=Asymmetrische Verschlüsselung – RSA, colback=blue!5!white, colframe=blue!75!black]
    \textbf{Begriffe:}
    \begin{itemize}
      \item $P$ ist der Klartext (z.\,B. $P = 7$)
      \item $n$ ist der Modulus (z.\,B. $n = 23$)
      \item $e$, $d$ sind die Schlüssel-Exponenten mit $e \cdot d \equiv 1 \mod \varphi(n)$
    \end{itemize}
    
    \textbf{Grundprinzip:}
    \begin{align*}
      &P^{e \cdot d} \mod n = P \mod n \\
      &\text{(aus Potenzgesetzen: } (P^e)^d \mod n = P \text{)}
    \end{align*}
    
    \textbf{Verschlüsselung:}
    \begin{align*}
      C &= P^e \mod n
    \end{align*}
    
    \textbf{Entschlüsselung:}
    \begin{align*}
      P &= C^d \mod n = (P^e)^d \mod n = P
    \end{align*}
    \end{tcolorbox}
    
    \vspace{0.5cm}
    
    \begin{tcolorbox}[title=RSA – Beispielrechnung, colback=green!5!white, colframe=green!75!black]
    \textbf{Gegeben:} $P = 5$, $e = 5$, $d = 9$, $n = 23$
    
    \textbf{Verschlüsselung:}
    \begin{align*}
      C &= 5^5 \mod 23 = 3125 \mod 23 = 17
    \end{align*}
    
    \textbf{Entschlüsselung:}
    \begin{align*}
      P &= 17^9 \mod 23 \\
      &= (17^3)^3 \mod 23 \\
      17^3 &= 4913 \mod 23 = 3 \quad (\text{da } 17^3 = 4913, \; 4913 \mod 23 = 3) \\
      \Rightarrow P &= 3^3 \mod 23 = 27 \mod 23 = 4 \quad \textbf{(hier wäre ein Fehler – sollte $P=5$ rauskommen)}
    \end{align*}
    
    \textit{Hinweis:} In der Praxis wird bei der Entschlüsselung häufig mit mod. Potenzieren und Modular Inversen gearbeitet, um Rechenfehler zu vermeiden.
    \end{tcolorbox}

\noindent\textbf{Falltürfunktion RSA:}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/FalltürRSA.png}
    \caption{Falltür RSA}
    \label{fig:FalltürRSA}
\end{figure}

\begin{table}[h!]
    \centering
    \begin{tabular}{@{}ll@{}}
    \toprule
    \textbf{Richtung} & \textbf{Aufwand} \\
    \midrule
    Verschlüsseln ($p^e \mod n$) & schnell und öffentlich möglich \\
    Entschlüsseln ohne $d$ & extrem schwer \\
    Entschlüsseln mit $d$ & leicht – wenn man die „Falltür“ kennt \\
    \bottomrule
    \end{tabular}
    \caption{Aufwand bei RSA-Verschlüsselung}
    \end{table}

    \begin{figure}[H]
        \centering
        \includegraphics[width=0.8\textwidth]{bilder/rsazusammenfassung.png}
        \caption{Zusammenfassung}
        \label{fig:Zusammenfassung}
    \end{figure}
    \textit{Beispiele und Übung: 131 f. }
\subsubsection{Diffie-Hellmann}
\textbf{Ziel:} Zwei Parteien erzeugen über eine unsichere Verbindung einen gemeinsamen geheimen Schlüssel, ohne ihn direkt zu übertragen.

\vspace{0.3em}
\textbf{Ablauf:}
\begin{itemize}
  \item Öffentlich: Primzahl \( p \), Basis \( g \)
  \item Geheim: Partei A wählt \( a \), Partei B wählt \( b \)
  \item Austausch:
    \begin{itemize}
        \item A sendet \( A = g^a \mod p \)
        \item B sendet \( B = g^b \mod p \)
    \end{itemize}
  \item Gemeinsamer Schlüssel:
    \begin{itemize}
        \item A berechnet \( K = B^a \mod p \)
        \item B berechnet \( K = A^b \mod p \)
    \end{itemize}
\end{itemize}

\vspace{0.3em}
\textbf{Sicherheit:} Ohne \( a \) oder \( b \) ist das Berechnen des Schlüssels sehr schwer (diskretes Logarithmusproblem).

\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/diffie.png}
    \caption{Diffie-Hellmann}
    \label{fig:diffie}
\end{figure}

\begin{table}[h!]
    \centering
    \resizebox{\textwidth}{!}{
    \begin{tabular}{|l|l|l|c|c|}
    \hline
    \textbf{Verfahren} & \textbf{Schweres Problem / Falltür} & \textbf{Leichtes Problem} & \textbf{Signatur möglich} & \textbf{Einsatz in der Praxis} \\
    \hline
    RSA & Faktorisierung mod $n$ & Multiplizieren / Potenzieren mod $n$ & Ja & Ja \\
    Rabin & Quadratwurzel ziehen mod $n$ & Quadrieren mod $n$ & Nein & Nein \\
    Elgamal & Diskreter Logarithmus berechnen & Multiplizieren / Potenzieren mod $n$ & Ja & Ja \\
    Diffie-Hellman & Diskreter Logarithmus berechnen & Potenzieren mod $n$ & Nein & Ja \\
    \hline
    \end{tabular}
    }
    \caption{Vergleich kryptographischer Verfahren}
    \end{table}
    
    
\subsection{Hashverfahren}
Eine Hashfunktion berechnet aus beliebig kodierten Daten eine Prüfsumme.
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/hashfalltür.png}
    \caption{Falltür - Hashverfahren}
    \label{fig:hash}
\end{figure}

Annforderungen an kryptographisch sichere Hashfunktion:
\begin{itemize}
    \item Eindeutigkeit: Eine identische Zeichennfolge muss zum selben Hash-Wert führen. 
    \item Reversibilität: Aus einem Hashwert darf nicht das Urbild zurückberechnet werden können.
    \item Kollisionsresistenz: Es dürfen nicht zwei unterschiedliche Zeicehnfolgen bekannt sein, die den gleichen Hash-Wert ergeben. 
    \item Lawineneffekt: Eine 1-Bit-Änderung um Urbild sollte den Hashwert zu 50\% Verändern. 
\end{itemize}
\subsection{Signaturverfahren}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/signaturRSA.png}
    \caption{Signatur - RSA Verfahren}
    \label{fig:signatur}
\end{figure}
\textit{Übung auf S. 172}

\subsubsection{Hierarchiemodelle}
\noindent\textbf{Hierarchiemodelle und Wurzelzertifikat:}\\
\vspace{1em}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/wurzel.png}
    \caption{Signatur - Wurzelzertifikat}
    \label{fig:wurzel}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\textwidth]{bilder/hierarchiemodelle.png}
    \caption{Signatur - Hierarchiemodelle}
    \label{fig:Hierarchiemodelle}
\end{figure}
\textit{Übung auf S. 181}



\end{document}